!function e(n,t,r){function o(u,c){if(!t[u]){if(!n[u]){var i="function"==typeof require&&require;if(!c&&i)return i(u,!0);if(s)return s(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var f=t[u]={exports:{}};n[u][0].call(f.exports,function(e){var t=n[u][1][e];return o(t||e)},f,f.exports,e,n,t,r)}return t[u].exports}for(var s="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,n,t){"use strict";var r={};n.exports={addHandler:function(e,n){r[e]=n},removeHandler:function(e){delete r[e]},callHandler:function(e,n){r[e]&&r[e](n)}}},{}],2:[function(e,n,t){"use strict";var r=e("./websocket/index.js"),o={extendWebsocket:function(e,n,t,o){r(e,n,t,o)}};"undefined"!=typeof window&&(window.RapportProgress=o),void 0!==n&&(n.exports=o)},{"./websocket/index.js":5}],3:[function(e,n,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o={isObject:function(e){return"object"===(void 0===e?"undefined":r(e))}};n.exports=o},{}],4:[function(e,n,t){"use strict";var r=function(e){return e&&(e.status=e._s,delete e._s,e.body=e._b,delete e._b),e},o=function(e){var n=e._functions.http;n&&(e._functions.http=function(e,t,o){var s=n(e,t,o);return s.onProgressUpdate=function(e){return s._progressHandler=e,s},s.send=function(n){var t={_m:s._method,_u:s._url,_b:s._body};return s._expectResponse?n?e.request(t,s._timeout,function(e,t){n(r(e),r(t))},s._progressHandler):e.request(t,s._timeout,s._progressHandler).then(r,function(e){throw r(e)}):e.send(t)},s},e.http=e._functions.http.bind(null,e))};n.exports=function(e){o(e)}},{}],5:[function(e,n,t){"use strict";var r=e("../handler.cache.js"),o=e("./send.progress.update.js"),s=e("./on.message.js"),u=e("./request.js"),c=e("./http.js"),i=e("./router.js"),a=function(e){var n=e.resolve,t=e.reject;e.resolve=function(e,t){r.removeHandler(e),n(e,t)},e.reject=function(e,n){r.removeHandler(e),t(e,n)}};n.exports=function(e,n,t,r){o(e),u(e,t,r),s(e),a(t),i(e),c(e)}},{"../handler.cache.js":1,"./http.js":4,"./on.message.js":6,"./request.js":7,"./router.js":8,"./send.progress.update.js":9}],6:[function(e,n,t){"use strict";var r=e("../util.js"),o=e("../handler.cache.js"),s=function(e){var n=e._functions.onMessage.handleMessage;e._functions.onMessage.handleMessage=function(e,t,s,u,c,i){r.isObject(c)&&c._pu?o.callHandler(c._pu,c._b):n(e,t,s,u,c,i)}},u=function(e){var n=e._functions.onMessage.createResponderObject;e._functions.onMessage.createResponderObject=function(e,t,r,o,s){var u=n(e,t,r,o,s);return u.sendProgressUpdate=function(e){t.sendProgressUpdate(s,e)},u}};n.exports=function(e){s(e),u(e)}},{"../handler.cache.js":1,"../util.js":3}],7:[function(e,n,t){"use strict";var r=e("../handler.cache.js"),o=function(e,n,t,o,s,u,c){var i={_rq:t.generateRequestId(),_b:o};s&&setTimeout(function(){n.reject(i._rq,new Error("Timed out after "+s+" ms"))},s);var a=u,f=c;if(t.Promise&&u&&!c&&(a=null,f=u),f&&r.addHandler(i._rq,f),!a){if(t.Promise)return new t.Promise(function(t,r){n.addPromise(i._rq,t,r),e.send(i)});throw new Error("Can't make a request without a Promise implementation or callback")}n.addCallback(i._rq,a),e.send(i)};n.exports=function(e,n,t){e._functions.request=o,e.request=e._functions.request.bind(null,e,n,t)}},{"../handler.cache.js":1}],8:[function(e,n,t){"use strict";var r=function(e){var n=e._functions.onMessage.createRouterResponderObject;n&&(e._functions.onMessage.createRouterResponderObject=function(e,t){var r=n(e,t);return r.sendProgressUpdate=t?function(n){e.sendProgressUpdate(t,n)}:function(){return r},r})};n.exports=function(e){r(e)}},{}],9:[function(e,n,t){"use strict";var r=function(e,n,t){e.send({_pu:n,_b:t})};n.exports=function(e){e._functions.sendProgressUpdate=r,e.sendProgressUpdate=e._functions.sendProgressUpdate.bind(null,e)}},{}]},{},[2]);
