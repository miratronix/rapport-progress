!function e(n,r,t){function o(u,i){if(!r[u]){if(!n[u]){var c="function"==typeof require&&require;if(!i&&c)return c(u,!0);if(s)return s(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var f=r[u]={exports:{}};n[u][0].call(f.exports,function(e){var r=n[u][1][e];return o(r||e)},f,f.exports,e,n,r,t)}return r[u].exports}for(var s="function"==typeof require&&require,u=0;u<t.length;u++)o(t[u]);return o}({1:[function(e,n,r){"use strict";var t={};n.exports={addHandler:function(e,n){t[e]=n},removeHandler:function(e){delete t[e]},callHandler:function(e,n){t[e]&&t[e](n)}}},{}],2:[function(e,n,r){"use strict";var t=e("./websocket/index.js"),o={extendWebsocket:function(e,n,r,o){t(e,n,r,o)}};"undefined"!=typeof window&&(window.RapportProgress=o),void 0!==n&&(n.exports=o)},{"./websocket/index.js":4}],3:[function(e,n,r){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o={isObject:function(e){return"object"===(void 0===e?"undefined":t(e))}};n.exports=o},{}],4:[function(e,n,r){"use strict";var t=e("../handler.cache.js"),o=e("./send.progress.update.js"),s=e("./on.message.js"),u=e("./request.js"),i=function(e){var n=e.resolve,r=e.reject;e.resolve=function(e,r){t.removeHandler(e),n(e,r)},e.reject=function(e,n){t.removeHandler(e),r(e,n)}};n.exports=function(e,n,r,t){o(e),u(e,r,t),s(e),i(r)}},{"../handler.cache.js":1,"./on.message.js":5,"./request.js":6,"./send.progress.update.js":7}],5:[function(e,n,r){"use strict";var t=e("../util.js"),o=e("../handler.cache.js"),s=function(e){var n=e._functions.onMessage.handleMessage;e._functions.onMessage.handleMessage=function(e,r,s,u,i,c){t.isObject(i)&&i._pu?o.callHandler(i._pu,i._b):n(e,r,s,u,i,c)}},u=function(e){var n=e._functions.onMessage.createResponderObject;e._functions.onMessage.createResponderObject=function(e,r,t,o,s){var u=n(e,r,t,o,s);return u.sendProgressUpdate=function(e){r.sendProgressUpdate(s,e)},u}};n.exports=function(e){s(e),u(e)}},{"../handler.cache.js":1,"../util.js":3}],6:[function(e,n,r){"use strict";var t=e("../handler.cache.js"),o=function(e,n,r,o,s,u,i){var c={_rq:r.generateRequestId(),_b:o};s&&setTimeout(function(){n.reject(c._rq,new Error("Timed out after "+s+" ms"))},s);var a=u,f=i;if(r.Promise&&u&&!i&&(a=null,f=u),f&&t.addHandler(c._rq,f),!a){if(r.Promise)return new r.Promise(function(r,t){n.addPromise(c._rq,r,t),e.send(c)});throw new Error("Can't make a request without a Promise implementation or callback")}n.addCallback(c._rq,a),e.send(c)};n.exports=function(e,n,r){e._functions.request=o,e.request=e._functions.request.bind(null,e,n,r)}},{"../handler.cache.js":1}],7:[function(e,n,r){"use strict";var t=function(e,n,r){e.send({_pu:n,_b:r})};n.exports=function(e){e._functions.sendProgressUpdate=t,e.sendProgressUpdate=e._functions.sendProgressUpdate.bind(null,e)}},{}]},{},[2]);
